---
alwaysApply: false
applyIntelligently: true
description: 데이터 검증 - SQL/API 작업 시 AI 자동 검증
---

# 데이터 검증 규칙

## 🎯 핵심 원칙

**"Trust Nothing, Verify Everything"** - 모든 데이터 검증 필수

## 🔧 서버 검증 명령어

```bash
ssh root@49.50.139.223 'docker exec ma-postgres psql -U moadamda -d analytics -c "쿼리"'
```

## 📊 도메인별 임계값

| 항목 | 정상 범위 | 비정상 (필터링) |
|-----|---------|---------------|
| 체류시간 | 1초 ~ 10분 | 1시간 이상 |
| 세션 지속 | 1분 ~ 30분 | 2시간 이상 |
| 페이지뷰 | 1 ~ 50개 | 100개 이상 (봇) |
| 구매금액 | 1만원 ~ 50만원 | 0원 이하, 100만원 이상 |

## ✅ 필수 확인 사항

### SQL 작업 시
- 샘플 데이터 확인 (LIMIT 5~10)
- 범위 확인 (MIN/MAX/AVG)
- NULL 체크
- JOIN 중복 확인

### 작업 중단 시점
- 계산 결과가 상식에 맞지 않음 (예: 체류시간 22일)
- 필수 필드에 NULL
- 예상보다 훨씬 많은 행 수 (JOIN 중복)

---
**v2** (2025-11-25)
