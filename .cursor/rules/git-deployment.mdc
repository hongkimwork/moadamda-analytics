---
alwaysApply: false
description: Git ê¸°ë°˜ ë°°í¬ ê·œì¹™ ë° í”„ë¡œì„¸ìŠ¤
---

# Git ê¸°ë°˜ ë°°í¬ ê·œì¹™

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-11-10

---

## ğŸ“‹ ê°œìš”

moadamda-analytics í”„ë¡œì íŠ¸ëŠ” **Git ê¸°ë°˜ ë°°í¬**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

**ë°°í¬ íë¦„:**
```
ë¡œì»¬ ê°œë°œ â†’ GitHub Push â†’ ì„œë²„ Pull â†’ Docker ì¬ë¹Œë“œ
```

---

## ğŸ”— Git ì €ì¥ì†Œ

- **GitHub URL**: https://github.com/hongkimwork/moadamda-analytics
- **ë¸Œëœì¹˜**: main
- **ì ‘ê·¼ ê¶Œí•œ**: Private ì €ì¥ì†Œ

---

## ğŸš€ ë°°í¬ í”„ë¡œì„¸ìŠ¤

### ğŸ“¦ ë³€ê²½ ìœ í˜•ë³„ ë°°í¬ ê°€ì´ë“œ

| ë³€ê²½ íŒŒì¼ ìœ„ì¹˜ | í•„ìš”í•œ ë°°í¬ ë‹¨ê³„ |
|---------------|----------------|
| `backend/src/**` | Docker ì¬ë¹Œë“œë§Œ |
| `frontend/src/**` | Docker ì¬ë¹Œë“œ + **npm build** + frontend ì¬ì‹œì‘ |
| `tracker/src/**` | ë¹Œë“œ í›„ ì„œë²„ ì—…ë¡œë“œ (ë³„ë„ í”„ë¡œì„¸ìŠ¤) |
| `.env` íŒŒì¼ | ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘ë§Œ |
| `docker-compose.prod.yml` | Docker ì¬ë¹Œë“œ |

---

## ğŸ”§ ë°°í¬ ë°©ë²•

### 1ï¸âƒ£ ë°±ì—”ë“œ ë³€ê²½ ì‹œ (backend/src/**)

```bash
# === ë¡œì»¬ PC ===
cd C:\analysis\moadamda-analytics

# Git ì»¤ë°‹ ë° Push
git status
git add .
git commit -m "[Type] ë³€ê²½ ë‚´ìš© ì„¤ëª…"
git push origin main

# === ì„œë²„ SSH ì ‘ì† ===
ssh root@211.188.53.220
# ë¹„ë°€ë²ˆí˜¸: L9=FEcbJN!Yd

# ì„œë²„ì—ì„œ ë°°í¬
cd /root/moadamda-analytics
git pull origin main
docker-compose -f docker-compose.prod.yml up -d --build

# ë¡œê·¸ í™•ì¸
docker-compose -f docker-compose.prod.yml logs backend --tail 50
```

---

### 2ï¸âƒ£ í”„ë¡ íŠ¸ì—”ë“œ ë³€ê²½ ì‹œ (frontend/src/**) âš ï¸ ì¶”ê°€ ë‹¨ê³„ í•„ìˆ˜

```bash
# === ë¡œì»¬ PC ===
cd C:\analysis\moadamda-analytics
git add .
git commit -m "[Type] ë³€ê²½ ë‚´ìš© ì„¤ëª…"
git push origin main

# === ì„œë²„ SSH ì ‘ì† ===
ssh root@211.188.53.220

# ì„œë²„ì—ì„œ ë°°í¬
cd /root/moadamda-analytics
git pull origin main
docker-compose -f docker-compose.prod.yml up -d --build

# â˜… í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ (í•„ìˆ˜!) â˜…
cd /root/moadamda-analytics/frontend
npm run build

# í”„ë¡ íŠ¸ì—”ë“œ ì¬ì‹œì‘
cd /root/moadamda-analytics
docker-compose -f docker-compose.prod.yml restart frontend

# ë¡œê·¸ í™•ì¸
docker-compose -f docker-compose.prod.yml logs frontend --tail 20
```

**ì¤‘ìš”:** ë¸Œë¼ìš°ì €ì—ì„œ **Ctrl + Shift + R** (ê°•ë ¥ ìƒˆë¡œê³ ì¹¨) í•„ìˆ˜!

---

## âš ï¸ ì¤‘ìš” ì‚¬í•­

### 1. ì½”ë“œ ë³€ê²½ ì‹œ ë°˜ë“œì‹œ `--build` ì‚¬ìš©

Docker ì´ë¯¸ì§€ ì•ˆì— ì½”ë“œê°€ í¬í•¨ë˜ë¯€ë¡œ, ì´ë¯¸ì§€ ì¬ë¹Œë“œ í•„ìˆ˜!

```bash
# âŒ ì˜ëª»ëœ ë°©ë²•
docker-compose restart backend  # ì½”ë“œ ë³€ê²½ì‚¬í•­ ë¯¸ë°˜ì˜

# âœ… ì˜¬ë°”ë¥¸ ë°©ë²•
docker-compose up -d --build  # ì´ë¯¸ì§€ ì¬ë¹Œë“œ â†’ ì½”ë“œ ë°˜ì˜
```

### 2. í”„ë¡ íŠ¸ì—”ë“œëŠ” npm build í•„ìˆ˜

í”„ë¡ íŠ¸ì—”ë“œëŠ” **ë¹Œë“œëœ ì •ì  íŒŒì¼(dist)**ì„ ì‚¬ìš©í•˜ë¯€ë¡œ:
- Docker ì¬ë¹Œë“œë§Œìœ¼ë¡œëŠ” ë¶ˆì¶©ë¶„
- `npm run build` ë°˜ë“œì‹œ ì‹¤í–‰
- ë¸Œë¼ìš°ì € ìºì‹œ ìƒˆë¡œê³ ì¹¨ (**Ctrl + Shift + R**)

### 3. ì„œë²„ì—ì„œ íŒŒì¼ ì§ì ‘ ìˆ˜ì • ê¸ˆì§€

```bash
# âŒ í•˜ì§€ ë§ ê²ƒ
vim /root/moadamda-analytics/backend/src/server.js  # Git ì´ë ¥ ë¶ˆì¼ì¹˜

# âœ… ì˜¬ë°”ë¥¸ ë°©ë²•
# ë¡œì»¬ì—ì„œ ìˆ˜ì • â†’ Git push â†’ ì„œë²„ì—ì„œ pull
```

### 4. .env íŒŒì¼ì€ ì˜ˆì™¸

`.env` íŒŒì¼ì€ Gitì— í¬í•¨ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì„œë²„ì—ì„œ ìˆ˜ë™ ê´€ë¦¬:

```bash
# ì„œë²„ì—ì„œ .env ìˆ˜ì • í›„
docker-compose -f docker-compose.prod.yml restart backend
```

---

## ğŸ”„ ë¡¤ë°± ë°©ë²•

### ì´ì „ ì»¤ë°‹ìœ¼ë¡œ ë˜ëŒë¦¬ê¸°

```bash
# ì„œë²„ì—ì„œ
cd /root/moadamda-analytics

# ì»¤ë°‹ í•´ì‹œ í™•ì¸
git log --oneline -10

# íŠ¹ì • ì»¤ë°‹ìœ¼ë¡œ ì´ë™
git checkout <commit-hash>
docker-compose -f docker-compose.prod.yml up -d --build

# ìµœì‹ ìœ¼ë¡œ ë³µê·€
git checkout main
docker-compose -f docker-compose.prod.yml up -d --build
```

---

## ğŸ“š Git ê¸°ë³¸ ëª…ë ¹ì–´

### ìì£¼ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´

```bash
# í˜„ì¬ ìƒíƒœ í™•ì¸
git status

# ë³€ê²½ ì´ë ¥ í™•ì¸
git log --oneline --graph -10

# ìµœì‹  ì½”ë“œ ë°›ê¸°
git pull origin main

# ë³€ê²½ì‚¬í•­ ì—…ë¡œë“œ
git add .
git commit -m "ë©”ì‹œì§€"
git push origin main
```

### ë¬¸ì œ í•´ê²°

```bash
# ë¡œì»¬ ë³€ê²½ì‚¬í•­ ë²„ë¦¬ê¸° (ì£¼ì˜!)
git reset --hard HEAD

# ì¶©ëŒ ë°œìƒ ì‹œ ì„œë²„ ì½”ë“œ ê°•ì œ ì´ˆê¸°í™”
git fetch origin
git reset --hard origin/main
```

---

## ğŸ¯ AI ê°œë°œì ì§€ì¹¨

### AIê°€ í•´ì•¼ í•  ê²ƒ

1. âœ… ë¡œì»¬ íŒŒì¼ ìˆ˜ì •
2. âœ… Git ì»¤ë°‹ ë° push
3. âœ… ì‚¬ìš©ìì—ê²Œ **ë³€ê²½ ìœ í˜•ì— ë§ëŠ”** ë°°í¬ ê°€ì´ë“œ ì œê³µ
4. âœ… í”„ë¡ íŠ¸ì—”ë“œ ë³€ê²½ ì‹œ ë¹Œë“œ ë‹¨ê³„ ëª…ì‹œ
5. âœ… ë¸Œë¼ìš°ì € ìºì‹œ ìƒˆë¡œê³ ì¹¨ ì•ˆë‚´

### AIê°€ í•˜ì§€ ë§ì•„ì•¼ í•  ê²ƒ

- âŒ ì„œë²„ íŒŒì¼ ì§ì ‘ ìˆ˜ì •
- âŒ ì„œë²„ì—ì„œ cat > íŒŒì¼ ìƒì„±
- âŒ SSHë¡œ ì„œë²„ ì ‘ì†í•´ì„œ ì½”ë“œ ìˆ˜ì •
- âŒ í”„ë¡ íŠ¸ì—”ë“œ ë³€ê²½ ì‹œ npm build ë‹¨ê³„ ëˆ„ë½

---

## ğŸ“ ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ë°±ì—”ë“œ ë³€ê²½ ì‹œ
- [ ] ë¡œì»¬ì—ì„œ ì½”ë“œ ìˆ˜ì • ì™„ë£Œ
- [ ] `git status`ë¡œ ë³€ê²½ì‚¬í•­ í™•ì¸
- [ ] `git commit -m "ì˜ë¯¸ìˆëŠ” ë©”ì‹œì§€"`
- [ ] `git push origin main` ì„±ê³µ í™•ì¸
- [ ] ì„œë²„ì—ì„œ `git pull origin main`
- [ ] `docker-compose up -d --build` ì‹¤í–‰
- [ ] ë¡œê·¸ í™•ì¸ìœ¼ë¡œ ì •ìƒ ì‘ë™ í™•ì¸

### í”„ë¡ íŠ¸ì—”ë“œ ë³€ê²½ ì‹œ (â˜… ì¶”ê°€ ë‹¨ê³„ í•„ìˆ˜)
- [ ] ìœ„ì˜ ë°±ì—”ë“œ ë‹¨ê³„ ëª¨ë‘ ìˆ˜í–‰
- [ ] **`cd frontend && npm run build` ì‹¤í–‰**
- [ ] `docker-compose restart frontend` ì‹¤í–‰
- [ ] ë¸Œë¼ìš°ì €ì—ì„œ **Ctrl + Shift + R** ê°•ë ¥ ìƒˆë¡œê³ ì¹¨
- [ ] ë³€ê²½ì‚¬í•­ ë°˜ì˜ í™•ì¸

---

## ğŸš¨ ìì£¼í•˜ëŠ” ì‹¤ìˆ˜

### 1. í”„ë¡ íŠ¸ì—”ë“œ ë³€ê²½ í›„ npm build ëˆ„ë½

**ì¦ìƒ:** ì½”ë“œëŠ” ë³€ê²½í–ˆëŠ”ë° ë¸Œë¼ìš°ì €ì—ì„œ ë³€ê²½ì‚¬í•­ì´ ì•ˆ ë³´ì„

**í•´ê²°:**
```bash
cd /root/moadamda-analytics/frontend
npm run build
cd ..
docker-compose -f docker-compose.prod.yml restart frontend
```

### 2. ë¸Œë¼ìš°ì € ìºì‹œ ë¬¸ì œ

**ì¦ìƒ:** ì„œë²„ì—ëŠ” ìƒˆ íŒŒì¼ì´ ë°°í¬ë˜ì—ˆëŠ”ë° ë¸Œë¼ìš°ì €ëŠ” êµ¬ë²„ì „ í‘œì‹œ

**í•´ê²°:** **Ctrl + Shift + R** (Chrome, Edge) ë˜ëŠ” ê°œë°œìë„êµ¬ì—ì„œ ìºì‹œ ë¹„í™œì„±í™”

### 3. Docker ìºì‹œ ë¬¸ì œ

**ì¦ìƒ:** `--build` ì˜µì…˜ì„ ì‚¬ìš©í–ˆëŠ”ë°ë„ ë³€ê²½ì‚¬í•­ ë¯¸ë°˜ì˜

**í•´ê²°:**
```bash
# ìºì‹œ ì—†ì´ ì™„ì „íˆ ìƒˆë¡œ ë¹Œë“œ
docker-compose -f docker-compose.prod.yml build --no-cache backend
docker-compose -f docker-compose.prod.yml up -d
```

---

**ê·œì¹™ ë²„ì „**: v2 (2025-11-10)
