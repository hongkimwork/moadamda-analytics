v24.0 (v052)
Updated: 2026-01-27

🔧 UTM 파라미터 파싱 버그 수정

NEW IN v24.0 (v052):
✅ UTM 파라미터 파싱 시 % 문자 인코딩 오류 처리
  - 메타 광고명에 "77% 할인" 같은 % 문자가 있으면 URL 디코딩 실패
  - fixMalformedPercent() 함수 추가: %XX 형식이 아닌 %를 %25로 치환
  - fullyDecode() 함수 개선: 디코딩 실패 시 추가 수정 시도
✅ 문제 해결: 광고 소재명이 빈 문자열로 저장되던 문제

PREVIOUS v23.0 (v051):
- 세션 타임아웃 60분 → 2시간 (카페24 애널리틱스 공식 기준)
- 방문자 쿠키 2년 → 1년 (카페24 순방문자 기준)
- 슬라이딩 윈도우 유지 (마지막 활동 기준)

PREVIOUS v22.0 (v050):
- 세션 타임아웃 2시간 → 60분 (카페24 애널리틱스 호환 시도)

PREVIOUS v21.0 (v049):
- 세션 타임아웃 30분 → 2시간 (카페24 접속통계 호환)

Previous features maintained:
- 스크롤 깊이 추적 (scroll_depth)
- 인앱 브라우저 감지 (FB/IG/카카오/네이버/라인)
- 인앱 브라우저 강화 전송 (sendBeacon + fetch 동시 사용)
- 실패 이벤트 sessionStorage 저장 및 재시도
- 쿠폰 선택 페이지 추적 (coupon_select)
- visibilitychange 이벤트
- checkout_attempt 이벤트
- heartbeat 기능 (30초 간격)
- 에러 로깅
- Dynamic UTM parameter collection
- Session end tracking
- DOM parsing fallback for order data
- UTM persistence via sessionStorage

DEPLOYMENT INFO:
- Backend: https://moadamda-analytics.co.kr/api/track
- Dashboard: https://marketingzon.com
- Server: Naver Cloud Platform
- SSL: Auto-renewal (Let's Encrypt)
